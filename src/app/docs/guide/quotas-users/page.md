---
dimensions:
  type:
    primary: getting-started
    detail: dashboard
  level: beginner
standard_title: 用户配额
language: zh
---

# 用户配额

用户配额页面让管理员能够集中查看和监控所有用户的配额使用情况。通过直观的卡片式布局和可视化进度条，您可以快速了解每位用户的资源消耗状态，及时发现潜在的超限风险。

## 页面概览

用户配额页面位于 **配额管理 > 用户配额** 菜单下，主要包含以下部分：

- **标题区域**：显示页面标题和当前用户总数
- **提示信息**：提供用户管理页面的快捷入口
- **工具栏**：搜索、筛选、排序和刷新功能
- **配额卡片列表**：以卡片形式展示每位用户的配额信息

## 工具栏功能

### 搜索

在搜索框中输入用户名称，可以快速定位特定用户。搜索支持模糊匹配，不区分大小写。

### 筛选

通过筛选下拉菜单，您可以按配额使用状态筛选用户：

| 筛选选项 | 说明 |
|---------|------|
| 全部 | 显示所有用户 |
| 警告中 | 显示配额使用率在 60% - 99% 之间的用户 |
| 已超限 | 显示配额使用率达到或超过 100% 的用户 |

### 排序

支持两种排序方式：

- **按名称**：按用户名称的字母顺序排列
- **按使用率**：按每日消费配额使用率从高到低排列

### 刷新控制

- **手动刷新**：点击刷新按钮立即更新数据
- **自动刷新**：开启后可选择 10 秒、30 秒或 60 秒的自动刷新间隔

## 配额卡片

每个用户配额卡片包含以下信息：

### 卡片头部

- **用户名称**：显示用户的名称
- **角色徽章**：显示用户角色（admin 或 user）
- **备注**：显示用户的备注信息，如未设置则显示"暂无备注"

### RPM 限额（每分钟请求数）

显示用户的每分钟请求限制：

- **当前值 / 限制值**：如 `0 / 60`
- **进度条**：可视化显示当前使用比例
- **说明文字**：提示这是每分钟的请求窗口

{% callout type="note" title="关于 RPM 显示" %}
RPM 采用滑动窗口机制，页面上显示的当前值为参考值。实际的 RPM 限制检查在每次 API 请求时实时进行。
{% /callout %}

### 每日消费限额

显示用户的每日消费（美元）使用情况：

- **当前消费 / 限额**：以配置的货币单位显示，如 `$0.50 / $100.00`
- **彩色进度条**：根据使用率显示不同颜色
- **重置时间**：显示距离下次重置的倒计时

### 进度条颜色含义

配额进度条会根据使用率自动变色：

| 使用率 | 颜色 | 状态 |
|-------|------|------|
| 0% - 59% | 蓝色（主色） | 正常 |
| 60% - 79% | 黄色 | 警告 |
| 80% - 99% | 橙色 | 危险 |
| 100% 及以上 | 红色 | 已超限 |

## 管理用户配额

用户配额页面仅用于**查看**配额使用情况。如需修改用户的配额设置，请点击页面顶部提示信息中的"用户管理"链接，进入用户管理页面进行配置。

在用户管理页面，您可以为每位用户设置：

- **RPM**：每分钟请求数限制
- **每日限额**：每日消费金额上限（美元）
- **5 小时限额**：5 小时滚动窗口内的消费上限
- **每周限额**：每周消费金额上限
- **每月限额**：每月消费金额上限
- **并发 Session 限制**：同时进行的会话数上限

## 数据来源

用户配额数据来自以下渠道：

- **RPM 数据**：从 Redis 滑动窗口中获取（如 Redis 不可用则显示 0）
- **消费数据**：从数据库聚合计算当日消费总额

系统采用 **Fail-Open** 策略：当 Redis 不可用时，限流检查会自动降级，确保服务可用性不受影响。

## 空状态提示

当列表中没有用户数据时，页面会显示相应的提示信息：

- **搜索无结果**：当搜索条件未匹配到任何用户时，显示"没有匹配的结果"
- **无用户数据**：当系统中没有任何用户或配额数据时，显示"暂无数据"

## 使用场景

### 日常监控

定期查看用户配额页面，关注使用率较高的用户，提前预警可能的超限情况。

### 成本控制

通过筛选"警告中"或"已超限"用户，快速定位需要关注的用户，进行配额调整或沟通。

### 团队管理

按使用率排序查看团队成员的 AI 工具使用情况，了解资源消耗分布，为配额分配决策提供依据。

## 相关页面

- [用户管理](/docs/guide/users) - 创建、编辑用户及配置配额
- [供应商配额](/docs/guide/quotas-providers) - 查看供应商维度的配额使用
- [限流配置](/docs/guide/rate-limits) - 了解限流机制的详细说明
